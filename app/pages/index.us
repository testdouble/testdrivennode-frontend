<!DOCTYPE html>
<html ng-app="app">
  <head>
    <title><%= pkg.name %></title>
    <link rel="stylesheet" type="text/css" href="/css/app.css" media="all" />
  </head>
  <body>
    <div class="row">
      <div class="large-12">

        <h1>Battleship</h1>

        <div class="row">
          <div class="large-8 columns">

            <h3>Opponent's Board</h3>

            <div class="row">
              <div class="columns small-10 small-centered">
                <table class="board">
                  <thead>
                    <th> </th>
                    <th>A</th>
                    <th>B</th>
                    <th>C</th>
                  </thead>
                  <tbody>
                    <tr>
                      <td>1</td>
                      <td id="OA1">o</td>
                      <td id="OB1">o</td>
                      <td id="OC1">o</td>
                    </tr>
                    <tr>
                      <td>2</td>
                      <td id="OA2">o</td>
                      <td id="OB2">o</td>
                      <td id="OC2">o</td>
                    </tr>
                    <tr>
                      <td>3</td>
                      <td id="OA3">o</td>
                      <td id="OB3">o</td>
                      <td id="OC3">o</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <h3>Your Board</h3>

            <div class="row" ng-controller="primaryGridCtrl">
              <div class="columns small-10 small-centered">
                <table class="board">
                  <thead>
                    <th> </th>
                    <th ng-repeat="cell in primaryGrid[0] track by $index">{{ $index | columnHeader }}</th>
                  </thead>
                  <tbody>
                    <tr ng-repeat="row in primaryGrid track by $index">
                      <td><strong>{{ $index + 1 }}</strong></td>
                      <td ng-repeat="cell in row" ng-click="place(cell)" class="{{ hasShip(cell) }}">
                        {{ cell.state | cellDisplay }}
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="small-4 columns">
            <div class="row"ng-controller="GameCtrl">
              <div class="columns small-10 small-centered">
                <h3>Status</h3>

                <strong>You:</strong> {{ game.yourStatus }}<br />
                <strong>Opponent:</strong> {{ game.opponentStatus }}<br />
                <button class="small button {{ disabled() }}">
                  Continue
                </button>
              </div>
            </div>

              <div class="row" ng-controller="shipsCtrl">
                <div class="columns small-10 small-centered">
                  <h3>Ships</h3>

                  <table class="board">
                    <thead>
                      <th>{{ prompt() }}</th>
                      <th></th>
                      <th></th>
                    </thead>
                    <tbody>
                      <tr ng-click="handleShip(ship)" ng-repeat="ship in ships">
                        <td>{{ ship.name }}</td>
                        <td class="{{docked(ship)}}" ng-repeat="point in ship.hull track by $index">{{ point }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="/js/app.js"></script>
  </body>
</html>
